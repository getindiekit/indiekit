{% extends "document.njk" %}

{% block content %}
  {{ badge({
    color: status[postStatus].color,
    text: __(status[postStatus].text)
  }) if postStatus }}

  {{ badge({
    color: status.deleted.color,
    text: __(status.deleted.text)
  }) if post.deleted }}

  {{ badge({
    color: status.syndicated.color,
    icon: status.syndicated.icon,
    text: __(status.syndicated.text)
  }) if postStatus === "published" and post.syndication }}

  {{ badge({
    color: status[post.visibility].color,
    icon: status[post.visibility].icon,
    text: __(status[post.visibility].text)
  }) if postStatus === "published" and post.visibility and post.visibility !== "_ignore" }}

  {{ prose({ html: post.content.html }) }}

  {% if post.audio %}
    {% for item in post.audio %}
      <audio src="{{ item.url | absoluteUrl(publication.me) }}" controls>
    {% endfor %}
  {% elif post.photo %}
    {% for item in post.photo %}
      <img src="{{ item.url | absoluteUrl(publication.me) }}" alt="{{ item.alt }}">
    {% endfor %}
  {% elif post.video %}
    {% for item in post.video %}
      <video src="{{ item.url | absoluteUrl(publication.me) }}" controls>
    {% endfor %}
  {% endif %}

  {% call details({ summary: __("posts.post.properties") }) %}
    {{ summary({ rows: summaryRows(post) }) }}
  {% endcall %}
{% endblock %}